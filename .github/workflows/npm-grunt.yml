name: Project Delivery CI/CI

on:
  push:
    branches: [ "main" ]

jobs:
  Test:
    name: üêõ Release
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master

      - name: get version
        id: version
        uses: notiz-dev/github-action-json-property@release
        with:
          path: 'package2.json'
          prop_path: 'version'

      - run: echo ${{steps.version.outputs.prop}}
      - run: echo ${{steps.version.outputs.prop}} | grep -o -E '[0-9]+' | head -1 | sed -e 's/^0\+//'
      - run: OUTPUT=$(${{steps.version.outputs.prop}} | grep -o -E '[0-9]+' | head -1 | sed -e 's/^0\+//')
      - run: echo ${{OUTPUT}}
      - run: $((OUTPUT+1))

      - name: get date
        id: date
        uses: notiz-dev/github-action-json-property@release
        with:
          path: 'package2.json'
          prop_path: 'date'
      - run: echo ${{steps.date.outputs.prop}}

      - run: echo ${{steps.date.outputs.prop}}
      #echo $(date +'%m/%d/%Y')
